<div class="w-full py-8 bg-gray-100">
  <div class="max-w-screen-xl mx-auto px-4">
    <div 
      class="relative swiper-{{ section.id }} swiper" 
      x-data 
      x-init="new Swiper($el, {
        loop: false,
        slidesPerView: 1,
        spaceBetween: 16,
        pagination: {
          el: $el.querySelector('.swiper-pagination'),
          clickable: true
        },
        navigation: {
          nextEl: $el.querySelector('.swiper-button-next'),
          prevEl: $el.querySelector('.swiper-button-prev')
        }
      })"
    >
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          <div class="swiper-slide">
            <div class="relative flex flex-col h-full bg-white rounded-2xl shadow-md overflow-hidden transition hover:shadow-lg">
              {% if block.settings.image != blank %}
                {% assign image = block.settings.image %}
                <img
                  src="{{ image | image_url: width: 800 }}"
                  alt="{{ block.settings.title | escape }}"
                  width="{{ image.width }}"
                  height="{{ image.height }}"
                  class="w-full h-48 object-cover"
                />
              {% endif %}
              <div class="flex-1 flex flex-col justify-between p-6 space-y-4
                {% if block.settings.text_alignment == 'center' %}items-center text-center
                {% elsif block.settings.text_alignment == 'right' %}items-end text-right
                {% else %}items-start text-left{% endif %}">
                <div>
                  {% if block.settings.title != blank %}
                    <h3 class="text-lg md:text-xl font-semibold text-gray-800">{{ block.settings.title }}</h3>
                  {% endif %}
                  {% if block.settings.text != blank %}
                    <p class="mt-2 text-gray-600 text-sm md:text-base">{{ block.settings.text }}</p>
                  {% endif %}
                </div>
                {% if block.settings.button_label != blank and block.settings.button_link != blank %}
                  <div>
                    <a href="{{ block.settings.button_link }}" class="inline-block px-5 py-2 text-sm md:text-base font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition">
                      {{ block.settings.button_label }}
                    </a>
                  </div>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>

      <!-- Navigation & Pagination -->
      <div class="swiper-pagination mt-4"></div>

      <div class="absolute top-1/2 left-0 -translate-y-1/2 z-10">
        <div class="swiper-button-prev bg-white/80 hover:bg-white text-gray-700 rounded-full p-2 shadow transition"></div>
      </div>
      <div class="absolute top-1/2 right-0 -translate-y-1/2 z-10">
        <div class="swiper-button-next bg-white/80 hover:bg-white text-gray-700 rounded-full p-2 shadow transition"></div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Slider",
  "max_blocks": 10,
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        },
        {
          "type": "select",
          "id": "text_alignment",
          "label": "Text alignment",
          "default": "left",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "center", "label": "Center" },
            { "value": "right", "label": "Right" }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Slider",
      "category": "Media"
    }
  ]
}
{% endschema %}
