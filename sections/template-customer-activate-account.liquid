<div class="min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8" x-data="activateForm()">
  <div class="max-w-md w-full space-y-8">
    <div>
      <h1 class="mt-6 text-center text-3xl font-bold text-gray-700">Activate account</h1>
      <p class="mt-4 text-center">Create your password to activate your account</p>
    </div>

    {% form 'activate_customer_password', class: 'space-y-4', id: 'activate_account_form' %}
      <template x-if="formError">
        <div class="relative border border-red-700 bg-red-100 text-red-700 px-4 py-3" role="alert" x-text="formError"></div>
      </template>

      <div>
        <label for="password" class="block mb-1 font-medium">Password</label>
        <input
          type="password"
          name="customer[password]"
          id="password"
          placeholder="New password"
          class="relative block w-full px-3 py-2 border placeholder-gray-300 text-gray-700"
          autocomplete="new-password"
          x-model="password"
          @input="validatePasswords()"
          required
        />
      </div>

      <div>
        <label for="confirm_password" class="block mb-1 font-medium">Confirm password</label>
        <input
          type="password"
          name="customer[password_confirmation]"
          id="confirm_password"
          placeholder="Confirm your password"
          class="relative block w-full px-3 py-2 border placeholder-gray-300 text-gray-700"
          autocomplete="new-password"
          x-model="confirmPassword"
          @input="validatePasswords()"
          required
        />
      </div>

      <template x-if="passwordMismatch">
        <p class="text-red-600 text-sm mt-1">Passwords do not match.</p>
      </template>

      <div class="block md:flex gap-4">
        <button
          type="submit"
          class="w-full border py-2 px-4 text-sm font-medium text-white bg-gray-700 hover:bg-gray-900 disabled:opacity-50"
          :disabled="passwordMismatch || !password || !confirmPassword"
        >
          Activate account
        </button>
        <button
          type="submit"
          name="decline"
          class="w-full border py-2 px-4 text-sm font-medium text-gray-700 bg-white hover:bg-gray-700 hover:text-white mt-2 md:mt-0"
        >
          Decline invitation
        </button>
      </div>
    {% endform %}
  </div>
</div>

<script>
  function activateForm() {
    return {
      password: '',
      confirmPassword: '',
      passwordMismatch: false,
      formError: '',

      validatePasswords() {
        this.passwordMismatch = this.password !== this.confirmPassword;
      }
    }
  }
</script>
