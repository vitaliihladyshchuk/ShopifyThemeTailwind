<div class="py-12 bg-gray-50">
  {% paginate blog.articles by section.settings.number_of_blog_posts %}
    <h1 class="text-center text-4xl font-extrabold pb-10 text-gray-900 block">{{ blog.title }}</h1>

    <div class="max-w-6xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8" id="ProductGridContainer">
        {% for article in blog.articles %}
          <div class="w-full px-3">
            <div class="bg-white shadow-xl rounded-lg overflow-hidden hover:shadow-2xl transition-shadow duration-300 flex flex-col h-full">
              {% if article.image %}
                <a href="{{ article.url }}">
                  {% assign image = article.image %}
                  <img
                    src="{{ image | image_url: width: 400 }}"
                    alt="{{ image.alt | escape }}"
                    width="{{ image.width }}"
                    height="{{ image.height }}"
                    class="w-full h-64 object-cover"
                    loading="lazy"
                  >
                </a>
              {% else %}
                {{ 'image' | placeholder_svg_tag: 'w-full h-64 object-cover bg-gray-100' }}
              {% endif %}

              <div class="flex flex-col justify-between p-4 flex-grow">
                <div>
                  <h2 class="text-xl font-medium mb-3">
                    <a href="{{ article.url }}" class="text-gray-900 hover:text-blue-600 transition-colors duration-200">
                      {{ article.title }}
                    </a>
                  </h2>

                  <p class="text-gray-700 leading-relaxed mb-4">
                    {% if article.excerpt.size > 0 %}
                      {{ article.excerpt | strip_html | truncatewords: 15 }}
                    {% else %}
                      {{ article.content | strip_html | truncatewords: 15 }}
                    {% endif %}
                  </p>
                </div>

                <div>
                  <a href="{{ article.url }}" class="font-medium text-blue-600 hover:text-blue-800 inline-block">
                    {{ section.settings.blog_read_more }}
                    <svg class="inline w-4 h-4 ml-1 -mt-0.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="max-w-6xl mx-auto px-4 mt-12">
      {% render 'pagination', pagination: paginate %}
    </div>
  {% endpaginate %}
</div>

{% schema %}
{
  "name": "Blog posts",
  "tag": "section",
  "class": "shopify-section",
  "settings": [
    {
      "type": "range",
      "id": "number_of_blog_posts",
      "label": "Blog posts per page",
      "default": 3,
      "min": 1,
      "max": 6,
      "step": 1
    },
    {
      "type": "text",
      "id": "blog_read_more",
      "label": "Read more label",
      "default": "Read more"
    }
  ],
  "presets": [
    {
      "name": "Blog posts grid",
      "category": "Blog"
    }
  ]
}
{% endschema %}
